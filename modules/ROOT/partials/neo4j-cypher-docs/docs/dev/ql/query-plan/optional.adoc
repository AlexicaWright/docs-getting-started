[[query-plan-optional]]
== Optional ==
The `Optional` operator is used to solve some <<query-optional-match, OPTIONAL MATCH>> queries.
It will pull data from its source, simply passing it through if any data exists.
However, if no data is returned by its source, `Optional` will yield a single row with all columns set to `null`.

.Query
include::includes/query-plan-optional.query.adoc[]



.Query Plan
[source]
----
Compiler CYPHER 4.3

Planner COST

Runtime PIPELINED

Runtime version 4.3

+------------------+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| Operator         | Details                                   | Estimated Rows | Rows | DB Hits | Memory (Bytes) | Page Cache Hits/Misses | Time (ms) | Other         |
+------------------+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +ProduceResults  | p, q                                      |              1 |    1 |       0 |                |                    2/0 |     0.102 | In Pipeline 2 |
| |                +-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +Apply           |                                           |              1 |    1 |       0 |                |                    0/0 |     0.012 |               |
| |\               +-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| | +Optional      | p                                         |              1 |    1 |       0 |            768 |                    0/0 |     0.553 | In Pipeline 2 |
| | |              +-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| | +NodeIndexSeek | q:Person(name) WHERE name = $autostring_1 |              1 |    0 |       1 |             80 |                    1/0 |     0.088 | In Pipeline 1 |
| |                +-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+
| +NodeIndexSeek   | p:Person(name) WHERE name = $autostring_0 |              1 |    1 |       2 |             72 |                    0/1 |     0.216 | In Pipeline 0 |
+------------------+-------------------------------------------+----------------+------+---------+----------------+------------------------+-----------+---------------+

Total database accesses: 3, total allocated memory: 928

----
