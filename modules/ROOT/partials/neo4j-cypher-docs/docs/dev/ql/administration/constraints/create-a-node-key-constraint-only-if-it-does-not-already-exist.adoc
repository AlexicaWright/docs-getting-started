[[administration-constraints-create-a-node-key-constraint-only-if-it-does-not-already-exist]]
== Create a node key constraint only if it does not already exist ==
If it is unknown if a constraint exists or not but we want to make sure it does, we add the `IF NOT EXISTS`. The node key constraint ensures that all nodes with a particular label have a set of defined properties whose combined value is unique and all properties in the set are present.

.Query
include::includes/administration-constraints-create-a-node-key-constraint-only-if-it-does-not-already-exist.query.adoc[]


Note no constraint will be created if any other constraint with that name or another node key constraint on the same schema already exists. Assuming a node key constraint on `(:Person {firstname, surname})` already existed:

.Result
include::includes/administration-constraints-create-a-node-key-constraint-only-if-it-does-not-already-exist.result.adoc[]

.Try this query live
include::includes/administration-constraints-create-a-node-key-constraint-only-if-it-does-not-already-exist.console.adoc[]

